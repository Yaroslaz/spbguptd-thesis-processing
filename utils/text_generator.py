import os
import json
import re
import requests
from dotenv import load_dotenv

try:
    from utils.hh_api import get_vacancy_stats_multi_source
except ImportError:
    def get_vacancy_stats_multi_source(profession, area=113):
        return {
            'total': 0,
            'avg_salary': None,
            'avg_salary_formatted': '–ù–µ –¥–æ—Å—Ç—É–ø–Ω–æ',
            'competition': '–î–∞–Ω–Ω—ã–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã',
            'competition_level': 'unknown',
            'source': 'Fallback'
        }

load_dotenv()

def check_profession_on_hh(profession):
    """–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–æ—Ñ–µ—Å—Å–∏—é –Ω–∞ HH.ru - –ü–û–ò–°–ö –ù–ê –†–£–°–°–ö–û–ú"""
    try:
        print(f"üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ HH.ru: {profession}")
        
        response = requests.get(
            'https://api.hh.ru/vacancies',
            params={'text': profession, 'area': 113, 'per_page': 0},
            timeout=5,
            headers={'User-Agent': 'Mozilla/5.0'}
        )
        
        if response.status_code == 200:
            data = response.json()
            found = data.get('found', 0)
            if found > 0:
                print(f"‚úÖ –ù–∞–π–¥–µ–Ω–æ {found} –≤–∞–∫–∞–Ω—Å–∏–π")
                return True, found
        
        return False, 0
    except Exception as e:
        print(f"‚ö†Ô∏è –û—à–∏–±–∫–∞ HH API: {e}")
        return False, 0

def generate_clarifying_questions(profession):
    """
    –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –†–û–í–ù–û 3 –ö–û–†–û–¢–ö–ò–• —Å–∏—Ç—É–∞—Ü–∏–æ–Ω–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–∞ —á–µ—Ä–µ–∑ Ollama
    ‚úÖ –ì–ê–†–ê–ù–¢–ò–†–£–ï–¢ –†–û–í–ù–û 3 –í–û–ü–†–û–°–ê
    ‚úÖ –ï—Å–ª–∏ –º–µ–Ω—å—à–µ - –ø—Ä–æ—Å–∏—Ç –µ—â—ë
    ‚úÖ –í–æ–ø—Ä–æ—Å—ã –ö–û–†–û–¢–ö–ò–ï, –ü–†–û–°–¢–´–ï, –°–ò–¢–£–ê–¶–ò–û–ù–ù–´–ï
    """
    import ollama
    
    print(f"\n{'='*60}")
    print(f"üìù –ì–ï–ù–ï–†–ê–¶–ò–Ø –í–û–ü–†–û–°–û–í (Ollama) –¥–ª—è: {profession}")
    print(f"{'='*60}")
    
    prompt = f"""–°–≥–µ–Ω–µ—Ä–∏—Ä—É–π –†–û–í–ù–û 3 –ö–û–†–û–¢–ö–ò–• —Å–∏—Ç—É–∞—Ü–∏–æ–Ω–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–∞ –ø—Ä–æ –ø—Ä–æ—Ñ–µ—Å—Å–∏—é {profession}

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
- –í–æ–ø—Ä–æ—Å—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ö–û–†–û–¢–ö–ò–ï (–æ–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞)
- –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç –†–ï–ê–õ–¨–ù–´–ï —Å–∏—Ç—É–∞—Ü–∏–∏ –Ω–∞ —Ä–∞–±–æ—Ç–µ –≤ {profession}
- –ü–æ–º–æ–≥–∞—é—Ç –ø–æ–Ω—è—Ç—å –ø–æ–¥—Ö–æ–¥–∏—Ç –ª–∏ —ç—Ç–∞ —Ä–∞–±–æ—Ç–∞ —á–µ–ª–æ–≤–µ–∫—É
- –ö–∞–∂–¥—ã–π –≤–æ–ø—Ä–æ—Å –ø—Ä–æ —Ä–∞–∑–Ω—ã–π –∞—Å–ø–µ–∫—Ç —Ä–∞–±–æ—Ç—ã

–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –≤—ã–≤–æ–¥–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ:

1. –í–æ–ø—Ä–æ—Å: [–∫–æ—Ä–æ—Ç–∫–æ 1-2 —Ñ—Ä–∞–∑—ã –ø—Ä–æ —Ä–µ–∞–ª—å–Ω—É—é —Å–∏—Ç—É–∞—Ü–∏—é –≤ {profession}]
- A) [–ø–µ—Ä–≤—ã–π —Ç–∏–ø —Ä–µ–∞–∫—Ü–∏–∏ - –∫–∞–∫ —á–µ–ª–æ–≤–µ–∫ —Å–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è]
- B) [–≤—Ç–æ—Ä–æ–π —Ç–∏–ø —Ä–µ–∞–∫—Ü–∏–∏ - —Å—Ä–µ–¥–Ω–∏–π –≤–∞—Ä–∏–∞–Ω—Ç]
- C) [—Ç—Ä–µ—Ç–∏–π —Ç–∏–ø —Ä–µ–∞–∫—Ü–∏–∏ - –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω—ã–π –ø–æ–¥—Ö–æ–¥]

2. –í–æ–ø—Ä–æ—Å: [–∫–æ—Ä–æ—Ç–∫–æ –ø—Ä–æ –¥—Ä—É–≥–æ–π –∞—Å–ø–µ–∫—Ç —Ä–∞–±–æ—Ç—ã –≤ {profession}]
- A) [–ø–µ—Ä–≤—ã–π —Ç–∏–ø —Ä–µ–∞–∫—Ü–∏–∏]
- B) [–≤—Ç–æ—Ä–æ–π —Ç–∏–ø —Ä–µ–∞–∫—Ü–∏–∏]
- C) [—Ç—Ä–µ—Ç–∏–π —Ç–∏–ø —Ä–µ–∞–∫—Ü–∏–∏]

3. –í–æ–ø—Ä–æ—Å: [–∫–æ—Ä–æ—Ç–∫–æ –ø—Ä–æ –µ—â—ë –æ–¥–∏–Ω –∞—Å–ø–µ–∫—Ç {profession}]
- A) [–ø–µ—Ä–≤—ã–π —Ç–∏–ø —Ä–µ–∞–∫—Ü–∏–∏]
- B) [–≤—Ç–æ—Ä–æ–π —Ç–∏–ø —Ä–µ–∞–∫—Ü–∏–∏]
- C) [—Ç—Ä–µ—Ç–∏–π —Ç–∏–ø —Ä–µ–∞–∫—Ü–∏–∏]

–ü–†–ò–ú–ï–†–´ –ö–û–†–û–¢–ö–ò–• –í–û–ü–†–û–°–û–í:
- –î–ª—è —Ç–∞–∫—Å–∏—Å—Ç–∞: "–ï–¥–µ—à—å —Å –ø–∞—Å—Å–∞–∂–∏—Ä–æ–º –≤ —á–∞—Å –ø–∏–∫, GPS —Å–ª–æ–º–∞–Ω–∞. –ß—Ç–æ –¥–µ–ª–∞—Ç—å?"
- –î–ª—è –≤—Ä–∞—á–∞: "–ü–∞—Ü–∏–µ–Ω—Ç –Ω–µ–¥–æ–≤–æ–ª–µ–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º. –ö–∞–∫ —Ç—ã —Ä–µ–∞–≥–∏—Ä—É–µ—à—å?"
- –î–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–∞: "–ö–æ–¥ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä—è–º–æ –ø–µ—Ä–µ–¥ —Å–¥–∞—á–µ–π. –¢–≤–æ–π –ø–µ—Ä–≤—ã–π —à–∞–≥?"

–¢–û–õ–¨–ö–û –†–£–°–°–ö–ò–ô –¢–ï–ö–°–¢! –¢–û–ß–ù–û 3 –í–û–ü–†–û–°–ê! –í–û–ü–†–û–°–´ –ö–û–†–û–¢–ö–ò–ï!"""
    
    questions = []
    attempts = 0
    max_attempts = 3
    
    while len(questions) < 3 and attempts < max_attempts:
        attempts += 1
        print(f"\nüîó –ó–∞–ø—Ä–æ—Å –∫ Ollama (–ø–æ–ø—ã—Ç–∫–∞ {attempts})...")
        
        try:
            response = ollama.chat(
                model=os.getenv('OLLAMA_MODEL', 'wavecut/vikhr:latest'),
                messages=[{'role': 'user', 'content': prompt}]
            )
            
            result = response['message']['content'].strip()
            print(f"‚úÖ –û—Ç–≤–µ—Ç –ø–æ–ª—É—á–µ–Ω ({len(result)} —Å–∏–º–≤–æ–ª–æ–≤)")
            
            # –ü–∞—Ä—Å–∏–º –≤–æ–ø—Ä–æ—Å—ã
            parsed_questions = parse_questions_guaranteed_3(result, profession)
            
            if len(parsed_questions) > 0:
                questions.extend(parsed_questions)
                print(f"üìä –ü–æ–ª—É—á–µ–Ω–æ –≤–æ–ø—Ä–æ—Å–æ–≤: {len(questions)}/3")
            
            # –ï—Å–ª–∏ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –≤–æ–ø—Ä–æ—Å–æ–≤ - –ø—Ä–æ—Å–∏–º –µ—â—ë
            if len(questions) < 3:
                print(f"‚ö†Ô∏è –ü–æ–ª—É—á–µ–Ω–æ —Ç–æ–ª—å–∫–æ {len(questions)} –≤–æ–ø—Ä–æ—Å–æ–≤, –Ω—É–∂–Ω–æ –µ—â—ë {3 - len(questions)}")
                
                # –ü—Ä–æ—Å–∏–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã
                additional_prompt = f"""–î–æ–±–∞–≤—å –µ—â—ë {3 - len(questions)} –≤–æ–ø—Ä–æ—Å(–æ–≤) –ø—Ä–æ –ø—Ä–æ—Ñ–µ—Å—Å–∏—é {profession}.

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
- –ö–û–†–û–¢–ö–ò–ï –≤–æ–ø—Ä–æ—Å—ã (–æ–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞)
- –°–ò–¢–£–ê–¶–ò–û–ù–ù–´–ï - –ø—Ä–æ —Ä–µ–∞–ª—å–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã –Ω–∞ —Ä–∞–±–æ—Ç–µ
- –ù–û–í–´–ï - –Ω–µ –ø–æ–≤—Ç–æ—Ä—è–π –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã

–ò—Å–ø–æ–ª—å–∑—É–π –¢–û–¢ –ñ–ï –§–û–†–ú–ê–¢:

{len(questions) + 1}. –í–æ–ø—Ä–æ—Å: [–∫–æ—Ä–æ—Ç–∫–æ –ø—Ä–æ —Ä–µ–∞–ª—å–Ω—É—é —Å–∏—Ç—É–∞—Ü–∏—é]
- A) [–ø–µ—Ä–≤–∞—è —Ä–µ–∞–∫—Ü–∏—è]
- B) [–≤—Ç–æ—Ä–∞—è —Ä–µ–∞–∫—Ü–∏—è]
- C) [—Ç—Ä–µ—Ç—å—è —Ä–µ–∞–∫—Ü–∏—è]

–¢–û–õ–¨–ö–û –†–£–°–°–ö–ò–ô –¢–ï–ö–°–¢!"""
                
                print(f"üîó –ó–∞–ø—Ä–∞—à–∏–≤–∞—é –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã...")
                response = ollama.chat(
                    model=os.getenv('OLLAMA_MODEL', 'wavecut/vikhr:latest'),
                    messages=[{'role': 'user', 'content': additional_prompt}]
                )
                
                additional_result = response['message']['content'].strip()
                print(f"‚úÖ –û—Ç–≤–µ—Ç –ø–æ–ª—É—á–µ–Ω ({len(additional_result)} —Å–∏–º–≤–æ–ª–æ–≤)")
                
                additional_questions = parse_questions_guaranteed_3(additional_result, profession)
                questions.extend(additional_questions)
                print(f"üìä –ü–æ–ª—É—á–µ–Ω–æ –≤–æ–ø—Ä–æ—Å–æ–≤: {len(questions)}/3")
        
        except Exception as e:
            print(f"‚ùå –û—à–∏–±–∫–∞ Ollama: {e}")
            attempts += 1
    
    # –ï—Å–ª–∏ –≤—Å—ë –µ—â—ë –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç - –¥–æ–ø–æ–ª–Ω—è–µ–º fallback
    while len(questions) < 3:
        questions.append(generate_fallback_question(profession, len(questions) + 1))
        print(f"‚ö†Ô∏è –î–æ–±–∞–≤–ª–µ–Ω fallback –≤–æ–ø—Ä–æ—Å ({len(questions)}/3)")
    
    # –ë–µ—Ä—ë–º —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–µ 3
    questions = questions[:3]
    
    print(f"\n‚úÖ –§–ò–ù–ê–õ–¨–ù–û: {len(questions)} –≤–æ–ø—Ä–æ—Å–æ–≤ –ø—Ä–æ {profession}\n")
    
    return questions

def parse_questions_guaranteed_3(text, profession):
    """–ü–∞—Ä—Å–µ—Ä –∫–æ—Ç–æ—Ä—ã–π –ì–ê–†–ê–ù–¢–ò–†–£–ï–¢ —Ä–æ–≤–Ω–æ 3 –≤–æ–ø—Ä–æ—Å–∞ —Å 3 –æ–ø—Ü–∏—è–º–∏ –∫–∞–∂–¥—ã–π"""
    print("üîÑ –ü–ê–†–°–ò–ù–ì –≤–æ–ø—Ä–æ—Å–æ–≤...")
    
    questions = []
    current_q = None
    current_opts = []
    
    lines = [l.strip() for l in text.split('\n') if l.strip()]
    
    for line in lines:
        # –ò—â–µ–º –Ω–æ–º–µ—Ä –≤–æ–ø—Ä–æ—Å–∞ (1. 2. 3. –∏–ª–∏ 1) 2) 3))
        q_num_match = re.match(r'^([1-3])[.)\-]*\s*(?:[–í–≤]–æ–ø—Ä–æ—Å:)?\s*(.{3,})', line, re.IGNORECASE)
        
        if q_num_match:
            q_num = int(q_num_match.group(1))
            question_text = q_num_match.group(2).strip()
            
            if current_q and len(current_opts) >= 1:
                while len(current_opts) < 3:
                    current_opts.append(f"–í–∞—Ä–∏–∞–Ω—Ç {len(current_opts) + 1}")
                
                questions.append({
                    "question": current_q,
                    "field": f"q{len(questions) + 1}",
                    "options": current_opts[:3]
                })
                print(f" ‚úì –í–æ–ø—Ä–æ—Å {len(questions)}: '{current_q[:50]}...'")
            
            current_q = question_text
            current_opts = []
            continue
        
        if current_q and len(current_opts) < 3:
            opt_match = re.match(r'^[-*‚Ä¢~]?\s*([AaBbCc])[\.\)]*\s*(.+)$', line)
            if opt_match:
                opt_text = opt_match.group(2).strip()
                if len(opt_text) >= 2:
                    current_opts.append(opt_text)
                    continue
            
            dash_match = re.match(r'^[-*‚Ä¢~]\s+(.+)$', line)
            if dash_match:
                opt_text = dash_match.group(1).strip()
                if len(opt_text) >= 3 and '?' not in opt_text:
                    current_opts.append(opt_text)
                    continue
    
    if current_q and len(current_opts) >= 1:
        while len(current_opts) < 3:
            current_opts.append(f"–í–∞—Ä–∏–∞–Ω—Ç {len(current_opts) + 1}")
        
        questions.append({
            "question": current_q,
            "field": f"q{len(questions) + 1}",
            "options": current_opts[:3]
        })
        print(f" ‚úì –í–æ–ø—Ä–æ—Å {len(questions)}: '{current_q[:50]}...'")
    
    print(f"‚úÖ –†–∞—Å–ø–∞—Ä—Å–µ–Ω–æ: {len(questions)} –≤–æ–ø—Ä–æ—Å–æ–≤")
    return questions

def generate_fallback_question(profession, number):
    """–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç fallback –≤–æ–ø—Ä–æ—Å - –ö–û–†–û–¢–ö–ò–ï, –ü–†–û–°–¢–´–ï"""
    fallback_questions = [
        {
            "question": f"–ù–∞ —Ä–∞–±–æ—Ç–µ –≤ {profession} –≤–Ω–µ–∑–∞–ø–Ω–æ –≤–æ–∑–Ω–∏–∫–ª–∞ –ø—Ä–æ–±–ª–µ–º–∞. –ö–∞–∫ —Ç—ã?",
            "options": ["–°—Ä–∞–∑—É –≤ –±–æ–π, —É–≤–µ—Ä–µ–Ω —Å–ø—Ä–∞–≤–ª—é—Å—å", "–°–Ω–∞—á–∞–ª–∞ —Ä–∞–∑–±–µ—Ä—É—Å—å, –ø–æ—Ç–æ–º –¥–µ–π—Å—Ç–≤—É—é", "–ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞—é –∏–∑–±–µ–≥–∞—Ç—å —Å–ø–µ—à–∫–∏"]
        },
        {
            "question": f"–†—É—Ç–∏–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ –≤ {profession} - —ç—Ç–æ...",
            "options": ["–ú–Ω–µ —Å–∫—É—á–Ω–æ, –Ω—É–∂–Ω–∞ –¥–∏–Ω–∞–º–∏–∫–∞", "–ù–æ—Ä–º–∞–ª—å–Ω–æ, –ª—é–±–ª—é —Å–∏—Å—Ç–µ–º—É", "–ù–µ –ª—é–±–ª—é –º–æ–Ω–æ—Ç–æ–Ω–Ω–æ—Å—Ç—å"]
        },
        {
            "question": f"–ö–æ–≥–¥–∞ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ {profession}, —Ç—ã...",
            "options": ["–ü—ã—Ç–∞—é—Å—å –≤—Å–µ –ø–µ—Ä–µ–¥–µ–ª–∞—Ç—å —Å–∞–º", "–ò—â—É –ø–æ–º–æ—â—å –∏–ª–∏ —Å–æ–≤–µ—Ç", "–°—Ç–∞—Ä–∞—é—Å—å –Ω–µ –≤–æ–ª–Ω–æ–≤–∞—Ç—å—Å—è"]
        },
        {
            "question": f"–í {profession} –Ω—É–∂–Ω–æ –±—ã—Å—Ç—Ä–æ –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ä–µ—à–µ–Ω–∏—è. –¢—ã —ç—Ç–æ?",
            "options": ["–î–∞, –ª—é–±–ª—é –±—ã—Å—Ç—Ä–æ—Ç—É", "–ò–Ω–æ–≥–¥–∞, —Å–º–æ—Ç—Ä—è —Å–∏—Ç—É–∞—Ü–∏—è", "–ù–µ—Ç, –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞—é –æ–±–¥—É–º–∞—Ç—å"]
        },
        {
            "question": f"–û–±—â–µ–Ω–∏–µ —Å –ª—é–¥—å–º–∏ –≤ {profession} –¥–ª—è —Ç–µ–±—è...",
            "options": ["–ì–ª–∞–≤–Ω–∞—è —Ñ–∏—à–∫–∞ —Ä–∞–±–æ—Ç—ã", "–ù–æ—Ä–º–∞–ª—å–Ω–∞—è —á–∞—Å—Ç—å —Ä–∞–±–æ—Ç—ã", "–¢—Ä–µ–±—É–µ—Ç —Å–∏–ª –∏ —ç–Ω–µ—Ä–≥–∏–∏"]
        }
    ]
    
    idx = (number - 1) % len(fallback_questions)
    q = fallback_questions[idx]
    
    return {
        "question": q["question"],
        "field": f"q{number}",
        "options": q["options"]
    }

def generate_profession_card(profession, details_answers):
    """–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—É—é –∫–∞—Ä—Ç–æ—á–∫—É"""
    
    print(f"üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏: {profession}")
    exists_hh, vacancies_count = check_profession_on_hh(profession)
    
    if not exists_hh:
        return {
            'error': 'profession_not_found',
            'message': f'–ü—Ä–æ—Ñ–µ—Å—Å–∏—è "{profession}" –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –Ω–∞ HH.ru'
        }
    
    print(f"‚úÖ –ù–∞–π–¥–µ–Ω–∞ ({vacancies_count} –≤–∞–∫–∞–Ω—Å–∏–π)")
    
    print(f"\nüìä –ü–û–õ–£–ß–ê–Æ –°–¢–ê–¢–ò–°–¢–ò–ö–£...")
    hh_stats = get_vacancy_stats_multi_source(profession, area=113)
    print(f"üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—É—á–µ–Ω–∞")
    
    answers_context = "\n".join([f"- {v}" for v in details_answers.values()]) if details_answers else ""
    
    prompt = _get_unified_prompt(profession, answers_context, hh_stats)
    
    try:
        print(f"ü§ñ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–∞—Ä—Ç–æ—á–∫–∏ —á–µ—Ä–µ–∑ Yandex GPT...")
        card_data = _call_yandex_gpt(prompt)
        
        if card_data and 'error' not in card_data:
            card_data = _normalize_card_data(card_data)
            card_data['hh_stats'] = hh_stats
            
            print(f"\n‚úÖ –ö–∞—Ä—Ç–æ—á–∫–∞ —Å–æ–∑–¥–∞–Ω–∞ —É—Å–ø–µ—à–Ω–æ")
            return card_data
        else:
            print(f"‚ùå –û—à–∏–±–∫–∞ Yandex GPT")
            return {'error': 'generation_failed', 'message': '–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏'}
    
    except Exception as e:
        print(f"‚ùå –û—à–∏–±–∫–∞: {e}")
        import traceback
        traceback.print_exc()
        return {'error': 'generation_failed', 'message': str(e)}

def _call_yandex_gpt(prompt):
    """–í—ã–∑—ã–≤–∞–µ—Ç Yandex GPT API"""
    api_key = os.getenv('YANDEX_GPT_API_KEY')
    folder_id = os.getenv('YANDEX_FOLDER_ID')
    
    if not api_key or not folder_id:
        print("‚ùå YANDEX_GPT_API_KEY –∏–ª–∏ YANDEX_FOLDER_ID –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã")
        return None
    
    url = "https://llm.api.cloud.yandex.net/foundationModels/v1/completion"
    
    headers = {
        "Authorization": f"Api-Key {api_key}",
        "Content-Type": "application/json"
    }
    
    body = {
        "modelUri": f"gpt://{folder_id}/yandexgpt-lite/latest",
        "completionOptions": {
            "stream": False,
            "temperature": 0.5,
            "maxTokens": "4000"
        },
        "messages": [
            {
                "role": "user",
                "text": prompt
            }
        ]
    }
    
    try:
        print(f"üì§ –û—Ç–ø—Ä–∞–≤–ª—è—é –∑–∞–ø—Ä–æ—Å –∫ Yandex GPT API...")
        response = requests.post(url, json=body, headers=headers, timeout=30)
        
        if response.status_code == 200:
            result = response.json()
            text = result['result']['alternatives'][0]['message']['text']
            print(f"‚úÖ –û—Ç–≤–µ—Ç –ø–æ–ª—É—á–µ–Ω ({len(text)} —Å–∏–º–≤–æ–ª–æ–≤)\n")
            
            text_clean = text
            
            if '```json' in text:
                text_clean = text.split('```json')[1].split('```')[0].strip()
            elif '```' in text:
                text_clean = text.split('```')[1].split('```')[0].strip()
            
            try:
                card_data = json.loads(text_clean)
                print(f"‚úÖ JSON —É—Å–ø–µ—à–Ω–æ —Ä–∞—Å–ø–∞—Ä—Å–µ–Ω\n")
                return card_data
            
            except json.JSONDecodeError as e:
                print(f"‚ùå JSON –ø–∞—Ä—Å–∏–Ω–≥ –æ—à–∏–±–∫–∞: {e}")
                return None
        else:
            print(f"‚ùå –û—à–∏–±–∫–∞ {response.status_code}")
            return None
    
    except Exception as e:
        print(f"‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ API: {e}")
        return None

def _normalize_card_data(data):
    """–ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ –Ω—É–∂–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç"""
    print("üîÑ –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö...")
    
    normalized = {}
    
    if 'daily_schedule' in data:
        schedule = data['daily_schedule']
        if isinstance(schedule, list):
            if schedule and isinstance(schedule[0], dict) and 'time' in schedule[0]:
                normalized['daily_schedule'] = [f"{item['time']} {item['description']}" for item in schedule]
            elif schedule and isinstance(schedule[0], str):
                normalized['daily_schedule'] = schedule
        print(f" ‚úì –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ: {len(normalized.get('daily_schedule', []))} –ø—É–Ω–∫—Ç–æ–≤")
    
    if 'tech_stack' in data:
        stack = data['tech_stack']
        if isinstance(stack, list):
            if stack and isinstance(stack[0], dict) and 'tool' in stack[0]:
                normalized['tech_stack'] = [item['tool'] for item in stack]
            elif stack and isinstance(stack[0], str):
                normalized['tech_stack'] = stack
        print(f" ‚úì –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã: {len(normalized.get('tech_stack', []))} –ø—É–Ω–∫—Ç–æ–≤")
    
    if 'benefits' in data:
        benefits = data['benefits']
        if isinstance(benefits, list):
            if benefits and isinstance(benefits[0], dict):
                text = ". ".join([b.get('benefit', '') for b in benefits])
                normalized['benefits'] = text
            else:
                normalized['benefits'] = ". ".join(benefits)
        elif isinstance(benefits, str):
            normalized['benefits'] = benefits
        print(f" ‚úì –¶–µ–Ω–Ω–æ—Å—Ç—å: {len(normalized.get('benefits', ''))} —Å–∏–º–≤–æ–ª–æ–≤")

    if 'company_value' in data:
        company_value = data['company_value']
        if isinstance(company_value, str):
            normalized['company_value'] = company_value
        elif isinstance(company_value, list):
            if company_value and isinstance(company_value[0], dict):
                text = ". ".join([c.get('value', '') for c in company_value])
                normalized['company_value'] = text
            else:
                normalized['company_value'] = ". ".join(company_value)
        if 'company_value' in normalized:
            print(f" ‚úì –ü–æ–ª—å–∑–∞: {len(normalized.get('company_value', ''))} —Å–∏–º–≤–æ–ª–æ–≤")

    if 'career_path' in data:
        career = data['career_path']
        if isinstance(career, list):
            if career and isinstance(career[0], dict):
                text = " ‚Üí ".join([c.get('level', '') for c in career])
                normalized['career_path'] = text
            else:
                normalized['career_path'] = " ‚Üí ".join(career)
        elif isinstance(career, str):
            normalized['career_path'] = career
        print(f" ‚úì –ö–∞—Ä—å–µ—Ä–∞: {len(normalized.get('career_path', ''))} —Å–∏–º–≤–æ–ª–æ–≤")
    
    if 'chat_examples' in data:
        chat = data['chat_examples']
        if isinstance(chat, list):
            if chat and isinstance(chat[0], dict):
                normalized['chat_examples'] = [
                    {
                        "sender": item.get('sender', '–ö–æ–ª–ª–µ–≥–∞'),
                        "chat_name": item.get('chat_name', '–†–∞–±–æ—á–∏–π —á–∞—Ç'),
                        "message": item.get('message', '')
                    }
                    for item in chat
                ]
            elif chat and isinstance(chat[0], str):
                normalized['chat_examples'] = [
                    {"sender": "–ö–æ–ª–ª–µ–≥–∞", "chat_name": "–†–∞–±–æ—á–∏–π —á–∞—Ç", "message": msg}
                    for msg in chat
                ]
        print(f" ‚úì –°–æ–æ–±—â–µ–Ω–∏—è: {len(normalized.get('chat_examples', []))} –ø—Ä–∏–º–µ—Ä–æ–≤")
    
    if 'sd_prompts' in data:
        prompts = data['sd_prompts']
        if isinstance(prompts, list):
            normalized['sd_prompts'] = prompts[:6]
        print(f" ‚úì SD –ü—Ä–æ–º–ø—Ç—ã: {len(normalized.get('sd_prompts', []))} —à—Ç—É–∫")
    
    if 'moodboard_prompt' in data:
        prompt = data['moodboard_prompt']
        if isinstance(prompt, str):
            normalized['moodboard_prompt'] = prompt
        print(f" ‚úì –ú—É–¥–±–æ—Ä–¥: {len(prompt)} —Å–∏–º–≤–æ–ª–æ–≤")
    
    print("‚úÖ –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞\n")
    return normalized

def _get_unified_prompt(profession, answers_context, hh_stats):
    """
    ‚úÖ –£–õ–£–ß–®–ï–ù–ù–´–ô –ü–†–û–ú–ü–¢ –î–õ–Ø YANDEX GPT

    –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π, —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è –†–æ—Å—Å–∏–∏.
    Yandex GPT —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ —Å–æ–∑–¥–∞—ë—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞, —Å–æ—Ü—Å–µ—Ç–∏, –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ.
    """

    return f"""–°–æ–∑–¥–∞–π –ü–û–õ–ù–´–ô JSON –¥–ª—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏: {profession}

–û–¢–í–ï–¢–´ –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø:
{answers_context}

‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–´–ï –ü–†–ê–í–ò–õ–ê ‚ö†Ô∏è

üá∑üá∫ –¢–û–õ–¨–ö–û –†–û–°–°–ò–ô–°–ö–ò–ô –ö–û–ù–¢–ï–ù–¢:
- –í—Å–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, —Å–µ—Ä–≤–∏—Å—ã, –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –†–æ—Å—Å–∏–∏
- –ò—Å–ø–æ–ª—å–∑—É–π —Ä–æ—Å—Å–∏–π—Å–∫–∏–µ –±—Ä–µ–Ω–¥—ã –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (–Ø–Ω–¥–µ–∫—Å, Mail.ru, VK –∏ —Ç.–¥.)
- –ò–∑–±–µ–≥–∞–π –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≤ –†–æ—Å—Å–∏–∏ —Å–µ—Ä–≤–∏—Å–æ–≤ (Google Drive –º–æ–∂–Ω–æ, –Ω–æ —É–∫–∞–∂–∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã)
- –£–∫–∞–∑—ã–≤–∞–π –¥–∞–Ω–Ω—ã–µ –æ –∑–∞—Ä–ø–ª–∞—Ç–µ –¥–ª—è –†–æ—Å—Å–∏–∏ (—Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Å—Ä–µ–¥–Ω–∏–µ –∑–∞—Ä–ø–ª–∞—Ç—ã)
- –ò—Å–ø–æ–ª—å–∑—É–π —Ä–æ—Å—Å–∏–π—Å–∫–∏–µ –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å–Ω—ã–µ –Ω–æ—Ä–º—ã (—Ç—Ä—É–¥–æ–≤–æ–µ –ø—Ä–∞–≤–æ –†–§)

üéØ –ü–ï–†–°–û–ù–ê–õ–ò–ó–ê–¶–ò–Ø –ò –†–ï–ê–õ–ò–ó–ú:

1. **daily_schedule** - —Å–æ–∑–¥–∞–π –ü–ï–†–°–û–ù–ê–õ–ò–ó–ò–†–û–í–ê–ù–ù–´–ô, –î–ï–¢–ê–õ–¨–ù–´–ô —Ä–∞—Å–ø–æ—Ä—è–¥–æ–∫ –¥–Ω—è –ù–ê –†–£–°–°–ö–û–ú:
   - –í—Ä–µ–º—è –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –†–ï–ê–õ–ò–°–¢–ò–ß–ù–´–ú –¥–ª—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏ {profession}
   - –ö–∞–∂–¥—ã–π –ø—É–Ω–∫—Ç –¥–æ–ª–∂–µ–Ω –æ–ø–∏—Å—ã–≤–∞—Ç—å –ö–û–ù–ö–†–ï–¢–ù–´–ï –¥–µ–π—Å—Ç–≤–∏—è, –∞ –Ω–µ –æ–±—â–∏–µ —Ñ—Ä–∞–∑—ã
   - –£—á–∏—Ç—ã–≤–∞–π —Å–ø–µ—Ü–∏—Ñ–∏–∫—É –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏ (—Å–º–µ–Ω–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫, –∫–æ–º–∞–Ω–¥–∏—Ä–æ–≤–∫–∏, –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã)
   - –î–æ–±–∞–≤–ª—è–π –ñ–ò–í–´–ï –¥–µ—Ç–∞–ª–∏: —Å –∫–µ–º –æ–±—â–∞–µ—Ç—Å—è, –∫–∞–∫–∏–µ –∑–∞–¥–∞—á–∏ —Ä–µ—à–∞–µ—Ç, —á—Ç–æ –∏–º–µ–Ω–Ω–æ –¥–µ–ª–∞–µ—Ç
   - –ú–∏–Ω–∏–º—É–º 8-10 –ø—É–Ω–∫—Ç–æ–≤, –æ–ø–∏—Å—ã–≤–∞—é—â–∏—Ö –≤–µ—Å—å —Ä–∞–±–æ—á–∏–π –¥–µ–Ω—å –æ—Ç –Ω–∞—á–∞–ª–∞ –¥–æ –∫–æ–Ω—Ü–∞
   - –ò–∑–±–µ–≥–∞–π —à–∞–±–ª–æ–Ω–Ω—ã—Ö —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–æ–∫ —Ç–∏–ø–∞ "–æ—Å–Ω–æ–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞" - –±—É–¥—å –ö–û–ù–ö–†–ï–¢–ù–´–ú

   –ü–†–ò–ú–ï–†–´ –•–û–†–û–®–ï–ì–û –†–ê–°–ü–ò–°–ê–ù–ò–Ø:
   - –î–ª—è —Ç–∞–∫—Å–∏—Å—Ç–∞: "07:30-08:00 –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª—è: —É—Ä–æ–≤–µ–Ω—å —Ç–æ–ø–ª–∏–≤–∞, –¥–∞–≤–ª–µ–Ω–∏–µ –≤ —à–∏–Ω–∞—Ö, —á–∏—Å—Ç–æ—Ç–∞ —Å–∞–ª–æ–Ω–∞"
   - –î–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–∞: "10:00-11:30 –ö–æ–¥-—Ä–µ–≤—å—é PR –∫–æ–ª–ª–µ–≥ –≤ GitHub, –æ–±—Å—É–∂–¥–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π"
   - –î–ª—è –≤—Ä–∞—á–∞: "09:00-12:00 –ü—Ä–∏—ë–º –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤: –ø–µ—Ä–≤–∏—á–Ω—ã–µ –æ—Å–º–æ—Ç—Ä—ã, –≤—ã–ø–∏—Å–∫–∞ —Ä–µ—Ü–µ–ø—Ç–æ–≤ –≤ –ú–ò–°, –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏"

2. **tech_stack** - –ö–û–ù–ö–†–ï–¢–ù–´–ï –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –ù–ê –†–£–°–°–ö–û–ú:
   - –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π –æ–±—â–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è —Ç–∏–ø–∞ "GPS", "–º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä", "CRM", "–æ—Ñ–∏—Å–Ω—ã–π –ø–∞–∫–µ—Ç"
   - –¢–û–õ–¨–ö–û –î–û–°–¢–£–ü–ù–´–ï –í –†–û–°–°–ò–ò –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
   - –£–∫–∞–∑—ã–≤–∞–π –ö–û–ù–ö–†–ï–¢–ù–´–ï –±—Ä–µ–Ω–¥—ã –∏ –Ω–∞–∑–≤–∞–Ω–∏—è, –∞ –≤ —Å–∫–æ–±–∫–∞—Ö –∫—Ä–∞—Ç–∫–æ –ø–∏—à–∏, –¥–ª—è —á–µ–≥–æ:
     * –í–º–µ—Å—Ç–æ "GPS" ‚Üí "–Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç—ã", "2GIS", "–Ø–Ω–¥–µ–∫—Å.–ù–∞–≤–∏–≥–∞—Ç–æ—Ä"
     * –í–º–µ—Å—Ç–æ "–º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä" ‚Üí "Telegram", "WhatsApp", "Max"
     * –í–º–µ—Å—Ç–æ "CRM" ‚Üí "Bitrix24", "amoCRM", "Salesforce"
     * –í–º–µ—Å—Ç–æ "–æ–±–ª–∞–∫–æ" ‚Üí "–Ø–Ω–¥–µ–∫—Å.–î–∏—Å–∫", "Mail.ru Cloud", "1C-–ë–∏—Ç—Ä–∏–∫—Å"
     * –í–º–µ—Å—Ç–æ "–æ—Ñ–∏—Å–Ω—ã–π –ø–∞–∫–µ—Ç" ‚Üí "Microsoft Excel", "Google Sheets", "Notion"
   - –ü–æ–¥–±–∏—Ä–∞–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –°–ü–ï–¶–ò–§–ò–ß–ù–´–ï –¥–ª—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏ {profession}
   - –ú–∏–Ω–∏–º—É–º 6-8 –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

3. **chat_examples** - –†–ê–ù–î–û–ú–ù–´–ï –∏–º–µ–Ω–∞ –∏ –†–ê–ó–ù–û–û–ë–†–ê–ó–ù–´–ï —Å–æ—Ü—Å–µ—Ç–∏ –ù–ê –†–£–°–°–ö–û–ú:
   - –ò—Å–ø–æ–ª—å–∑—É–π –†–ê–ó–ù–´–ï —Ä—É—Å—Å–∫–∏–µ –∏–º–µ–Ω–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
   - –ü—Ä–∏–º–µ—Ä—ã –∏–º—ë–Ω: –ê–ª–µ–∫—Å–µ–π, –î–º–∏—Ç—Ä–∏–π, –ê–Ω–Ω–∞, –ï–∫–∞—Ç–µ—Ä–∏–Ω–∞, –°–µ—Ä–≥–µ–π, –û–ª—å–≥–∞, –ú–∞–∫—Å–∏–º, –ù–∞—Ç–∞–ª—å—è, –ê–Ω–¥—Ä–µ–π, –Æ–ª–∏—è
   - –ò—Å–ø–æ–ª—å–∑—É–π –†–ê–ó–ù–´–ï –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã:
     * "Telegram - –†–∞–±–æ—á–∏–π —á–∞—Ç {profession}"
     * "WhatsApp - –ì—Ä—É–ø–ø–∞ –æ—Ç–¥–µ–ª–∞"
     * "Max"
     * "Microsoft Teams - –ü—Ä–æ–µ–∫—Ç–Ω–∞—è –≥—Ä—É–ø–ø–∞"
     * "Viber - –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è —Å–º–µ–Ω"
     * "VK - –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –≥—Ä—É–ø–ø–∞"
   - –°–æ–æ–±—â–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ñ–ò–í–´–ú–ò –∏ –†–ï–ê–õ–ò–°–¢–ò–ß–ù–´–ú–ò

4. **company_value** - –ù–ê –†–£–°–°–ö–û–ú, –ü–û–î–†–û–ë–ù–û –ò –ò–ù–¢–ï–†–ï–°–ù–û (–ë–ï–ó –í–í–û–î–ù–û–ì–û –¢–ï–ö–°–¢–ê):
   ‚ö†Ô∏è –í–ê–ñ–ù–û: –≠—Ç–æ –ü–û–õ–¨–ó–ê –î–õ–Ø –ö–û–ú–ü–ê–ù–ò–ò –æ—Ç —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞, –Ω–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –¥–ª—è —Ä–∞–±–æ—Ç–Ω–∏–∫–∞!
   - –û–ø–∏—à–∏ –ö–ê–ö —Ä–∞–±–æ—Ç–Ω–∏–∫ –ø—Ä–∏–Ω–æ—Å–∏—Ç –ø–æ–ª—å–∑—É –∫–æ–º–ø–∞–Ω–∏–∏
   - –ë—É–¥—å –ö–û–ù–ö–†–ï–¢–ù–´–ú —Å —Ü–∏—Ñ—Ä–∞–º–∏: —Å–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞ 30%, —Ä–æ—Å—Ç –Ω–∞ 25%, —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ –Ω–∞ 40%
   - –û–ø–∏—Å—ã–≤–∞–π —ç–∫–æ–Ω–æ–º–∏—é –≤—Ä–µ–º–µ–Ω–∏, –ø–æ–≤—ã—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞, —Ä–æ—Å—Ç –¥–æ—Ö–æ–¥–æ–≤, —Å–Ω–∏–∂–µ–Ω–∏–µ –∑–∞—Ç—Ä–∞—Ç
   - 3-4 –ü–û–î–†–û–ë–ù–´–• –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

   –ü–†–ò–ú–ï–†–´ –•–û–†–û–®–ï–ì–û –û–ü–ò–°–ê–ù–ò–Ø:
   - –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û: "–¢–∞–∫—Å–∏—Å—Ç –ø—Ä–∏–Ω–æ—Å–∏—Ç –¥–æ—Ö–æ–¥ –∫–æ–º–ø–∞–Ω–∏–∏"
   - –ü–†–ê–í–ò–õ–¨–ù–û: "–û–ø—ã—Ç–Ω—ã–π —Ç–∞–∫—Å–∏—Å—Ç –æ–±—Å–ª—É–∂–∏—Ç –Ω–∞ 40% –±–æ–ª—å—à–µ –∑–∞–∫–∞–∑–æ–≤ –±–ª–∞–≥–æ–¥–∞—Ä—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –º–∞—Ä—à—Ä—É—Ç–æ–≤. –ù–∞ –Ø–Ω–¥–µ–∫—Å.–¢–∞–∫—Å–∏ –∑–∞—Ä–∞–±–æ—Ç–æ–∫ –≤–æ–¥–∏—Ç–µ–ª—è 180-220 —Ç—ã—Å. —Ä—É–±–ª–µ–π –≤ –º–µ—Å—è—Ü, –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –∫–æ–º–∏—Å—Å–∏—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã 20-25%. –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –≤–æ–¥–∏—Ç–µ–ª—å –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ —Å–æ–∫—Ä–∞—â–∞–µ—Ç –≤—Ä–µ–º—è –ø—Ä–æ—Å—Ç–æ—è –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π –Ω–∞ 50% –∏ –ø–æ–≤—ã—à–∞–µ—Ç –∏–º–∏–¥–∂ –∫–æ–º–ø–∞–Ω–∏–∏ –ø—Ä–∏ –≤–∞–∂–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –≤—Å—Ç—Ä–µ—á–∞—Ö. –†–µ–π—Ç–∏–Ω–≥ –≤—ã—à–µ 4.8 –∑–≤–µ–∑–¥ –ø—Ä–∏–≤–ª–µ–∫–∞–µ—Ç –ø—Ä–µ–º–∏—É–º-–∫–ª–∏–µ–Ω—Ç–æ–≤, –≥–æ—Ç–æ–≤—ã—Ö –ø–ª–∞—Ç–∏—Ç—å –Ω–∞ 35% –¥–æ—Ä–æ–∂–µ –æ–±—ã—á–Ω—ã—Ö —Ç–∞—Ä–∏—Ñ–æ–≤."

   - –î–ª—è –≤—Ä–∞—á–∞: "–í—ã—Å–æ–∫–æ–ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –≤—Ä–∞—á —Å–æ–∫—Ä–∞—â–∞–µ—Ç –≤—Ä–µ–º—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –Ω–∞ 25% –∑–∞ —Å—á—ë—Ç –∫–ª–∏–Ω–∏—á–µ—Å–∫–æ–≥–æ –æ–ø—ã—Ç–∞, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–≤–µ–ª–∏—á–∏—Ç—å –ø—Ä–æ–ø—É—Å–∫–Ω—É—é —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –∫–ª–∏–Ω–∏–∫–∏ –Ω–∞ 30% –±–µ–∑ –Ω–∞–π–º–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–ª–∞. –ï–≥–æ –≤—ã—Å–æ–∫–∏–π —Ä–µ–π—Ç–∏–Ω–≥ (4.8+) –ø—Ä–∏–≤–ª–µ–∫–∞–µ—Ç –Ω–æ–≤—ã—Ö –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤, —É–≤–µ–ª–∏—á–∏–≤–∞—è —Å—Ä–µ–¥–Ω–∏–π —á–µ–∫ –Ω–∞ 20%. –£–º–µ–Ω—å—à–µ–Ω–∏–µ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö –æ—à–∏–±–æ–∫ –Ω–∞ 40% —Å–Ω–∏–∂–∞–µ—Ç —Ä–∞—Å—Ö–æ–¥—ã –Ω–∞ —Å—É–¥–µ–±–Ω—ã–µ —Ä–∞–∑–±–∏—Ä–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –∏ —Å—Ç—Ä–∞—Ö–æ–≤—ã–µ –≤—ã–ø–ª–∞—Ç—ã. –í—Ä–∞—á —É—á–∞—Å—Ç–≤—É–µ—Ç –≤ —Å–ª–æ–∂–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–Ω–æ—Å—è—Ç –∫–ª–∏–Ω–∏–∫–µ 5-10 –º–ª–Ω. —Ä—É–±–ª–µ–π –≤ –º–µ—Å—è—Ü."

   - –î–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–∞: "Senior —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –ø–∏—à–µ—Ç –∫–æ–¥ –Ω–∞ 60% –±—ã—Å—Ç—Ä–µ–µ –±–ª–∞–≥–æ–¥–∞—Ä—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–º –∑–Ω–∞–Ω–∏—è–º, —Å–æ–∫—Ä–∞—â–∞—è —Å—Ä–æ–∫–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏. –ï–≥–æ –Ω–∞–≤—ã–∫–∏ —Å–Ω–∏–∂–∞—é—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–≥–æ–≤ –Ω–∞ 70%, —á—Ç–æ —ç–∫–æ–Ω–æ–º–∏—Ç 40% —Ä–∞—Å—Ö–æ–¥–æ–≤ –Ω–∞ QA-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ. –•–æ—Ä–æ—à–∏–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä—É–µ—Ç —Å–∏—Å—Ç–µ–º—É –¥–ª—è 10 –º–ª–Ω. –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –æ—Ç–∫—Ä—ã–≤–∞—è –Ω–æ–≤—ã–µ —Ä—ã–Ω–∫–∏ –∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–æ—Ö–æ–¥–∞. –£—Ö–æ–¥ –æ–¥–Ω–æ–≥–æ —Ç–∞–∫–æ–≥–æ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞ –æ–±—Ö–æ–¥–∏—Ç—Å—è –∫–æ–º–ø–∞–Ω–∏–∏ –≤ 500 —Ç—ã—Å. - 1 –º–ª–Ω. —Ä—É–±–ª–µ–π –∏–∑-–∑–∞ –ø–æ—Ç–µ—Ä–∏ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏ –∑–∞—Ç—Ä–∞—Ç –Ω–∞ –Ω–∞—ë–º."

5. **career_path** - –ù–ê –†–£–°–°–ö–û–ú, –û–ß–ï–ù–¨ –ü–û–î–†–û–ë–ù–´–ô –ò –ò–ù–¢–ï–†–ï–°–ù–´–ô:
   ‚ö†Ô∏è –í–ê–ñ–ù–û: –†–∞—Å–ø–∏—à–∏ –î–ï–¢–ê–õ–¨–ù–û –∫–∞–∂–¥—ã–π —ç—Ç–∞–ø, —Å–¥–µ–ª–∞–π –ü–û–î–†–û–ë–ù–ï–ï –ò –ò–ù–¢–ï–†–ï–°–ù–ï–ï!
   - –ú–ò–ù–ò–ú–£–ú 5-7 —ç—Ç–∞–ø–æ–≤ —Ä–∞–∑–≤–∏—Ç–∏—è (–Ω–µ 3-4, –∞ –ü–û–ë–û–õ–¨–®–ï)
   - –ö–∞–∂–¥—ã–π —ç—Ç–∞–ø –æ–ø–∏—Å—ã–≤–∞–π 2-3 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º–∏ —Å –¥–µ—Ç–∞–ª—è–º–∏
   - –£–∫–∞–∑—ã–≤–∞–π –ø—Ä–∏–º–µ—Ä–Ω—ã–µ —Å—Ä–æ–∫–∏, –∑–∞—Ä–ø–ª–∞—Ç—É –≤ –†–æ—Å—Å–∏–∏, –Ω–∞–≤—ã–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω—ã
   - –û–ø–∏—Å—ã–≤–∞–π –Ω–µ —Ç–æ–ª—å–∫–æ –∫–∞—Ä—å–µ—Ä–Ω—ã–π —Ä–æ—Å—Ç –≤–≤–µ—Ä—Ö, –Ω–æ –∏ –°–ü–ï–¶–ò–ê–õ–ò–ó–ê–¶–ò–Æ, –ë–û–ö–û–í–´–ï –•–û–î–´
   - –í–∫–ª—é—á–∞–π –†–ï–ê–õ–¨–ù–´–ï –¥–æ–ª–∂–Ω–æ—Å—Ç–∏, —Ç–∏—Ç—É–ª—ã, –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≤ –†–æ—Å—Å–∏–∏
   - –î–µ–ª–∞–π –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ –∏ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ, —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏

   –ü–†–ò–ú–ï–†–´ –•–û–†–û–®–ï–ì–û –û–ü–ò–°–ê–ù–ò–Ø:

   ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û (–∫–æ—Ä–æ—Ç–∫–æ –∏ —Å–∫—É—á–Ω–æ): "–ù–æ–≤–∏—á–æ–∫ ‚Üí –û–ø—ã—Ç–Ω—ã–π ‚Üí –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª ‚Üí –≠–∫—Å–ø–µ—Ä—Ç"

   ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û (–ø–æ–¥—Ä–æ–±–Ω–æ –∏ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ):
   "1. –ù–û–í–ò–ß–û–ö –í –¢–ê–ö–°–ò (0-3 –º–µ—Å—è—Ü–∞, 40-50 —Ç—ã—Å. —Ä—É–±/–º–µ—Å): –ü–µ—Ä–≤—ã–π –æ–ø—ã—Ç —Ä–∞–±–æ—Ç—ã –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ –Ø–Ω–¥–µ–∫—Å.–¢–∞–∫—Å–∏ –∏–ª–∏ Uber. –ò–∑—É—á–∞–µ—à—å –≥–æ—Ä–æ–¥, —É—á–∏—à—å—Å—è –∏—Å–∫–∞—Ç—å –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã —á–µ—Ä–µ–∑ –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç—ã –∏ 2GIS. –ó–∞–∫–∞–∑—ã –ø–æ–ø–∞–¥–∞—é—Ç—Å—è —Å–ª—É—á–∞–π–Ω—ã–µ, –º–Ω–æ–≥–æ –∫–æ—Ä–æ—Ç–∫–∏—Ö –ø–æ–µ–∑–¥–æ–∫. –ì–ª–∞–≤–Ω–æ–µ ‚Äî –≤—ã—Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–∏–≤—ã—á–∫—É –∫ –¥–ª–∏–Ω–Ω—ã–º —Å–º–µ–Ω–∞–º 10-12 —á–∞—Å–æ–≤ –∏ –ø–æ–Ω—è—Ç—å –ª–æ–≥–∏–∫—É —Ä–∞–±–æ—Ç—ã –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã.

   2. –û–ü–´–¢–ù–´–ô –í–û–î–ò–¢–ï–õ–¨ (3-6 –º–µ—Å—è—Ü–µ–≤, 60-80 —Ç—ã—Å. —Ä—É–±/–º–µ—Å): –†–µ–π—Ç–∏–Ω–≥ –ø–æ–¥–Ω—è–ª—Å—è –≤—ã—à–µ 4.5 –∑–≤—ë–∑–¥, –ø–æ—è–≤–ª—è—é—Ç—Å—è –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–µ –ø–∞—Å—Å–∞–∂–∏—Ä—ã. –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—à—å—Å—è –Ω–∞ –ø—Ä–µ–º–∏—É–º-–º–∞—Ä—à—Ä—É—Ç–∞—Ö –∏–ª–∏ –≤–µ—á–µ—Ä–Ω–∏—Ö –ø–æ–µ–∑–¥–∫–∞—Ö, –≥–¥–µ –±–æ–ª—å—à–µ —á–∞–µ–≤—ã—Ö. –ù–∞—á–∏–Ω–∞–µ—à—å –∏–∑—É—á–∞—Ç—å –ø—Ä–µ–º–∏—É–º-—Å–µ–≥–º–µ–Ω—Ç —Ç–∏–ø–∞ –Ø–Ω–¥–µ–∫—Å.–ü—Ä–µ–º–∏—É–º –∏ Uber Black –¥–ª—è VIP-–∫–ª–∏–µ–Ω—Ç–æ–≤. –î–æ—Ö–æ–¥ —Ä–∞—Å—Ç—ë—Ç –∑–∞ —Å—á—ë—Ç —á–∞—Å—Ç—ã—Ö –∑–∞–∫–∞–∑–æ–≤ –∏ –≤—ã—Å–æ–∫–æ–≥–æ —Ä–µ–π—Ç–∏–Ω–≥–∞.

   3. –ü–†–û–§–ï–°–°–ò–û–ù–ê–õ–¨–ù–´–ô –í–û–î–ò–¢–ï–õ–¨ (6-12 –º–µ—Å—è—Ü–µ–≤, 80-120 —Ç—ã—Å. —Ä—É–±/–º–µ—Å): –†–µ–π—Ç–∏–Ω–≥ —Å—Ç–∞–±–∏–ª—å–Ω–æ 4.8+, –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—ã –ø—Ä–æ—Å—è—Ç –∏–º–µ–Ω–Ω–æ —Ç–µ–±—è. –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π —Å–µ—Ä–≤–∏—Å –∏ —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ —Å–ª—É–∂–µ–±–Ω—ã–π —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç –∫—Ä—É–ø–Ω—ã—Ö –∫–æ–º–ø–∞–Ω–∏–π. –ï—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—à—å –≤ —Ç–∞–∫—Å–æ–ø–∞—Ä–∫–µ, –Ω–∞—á–∏–Ω–∞–µ—à—å –º–µ–Ω—Ç–æ—Ä–∏—Ç—å –Ω–æ–≤–∏—á–∫–æ–≤ –∏ –ø–æ–º–æ–≥–∞—Ç—å –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞–º –≤ Telegram-–≥—Ä—É–ø–ø–µ.

   4. –í–û–î–ò–¢–ï–õ–¨ –ü–ï–†–°–û–ù–ê–õ–¨–ù–´–• –ü–ï–†–ï–í–û–ó–û–ö (1-2 –≥–æ–¥–∞, 100-150 —Ç—ã—Å. —Ä—É–±/–º–µ—Å): –†–∞–±–æ—Ç–∞–µ—à—å –Ω–∞ –æ–¥–Ω–æ–≥–æ-–¥–≤—É—Ö –±–æ–≥–∞—Ç—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–∫–∞–∑—ã–≤–∞—é—Ç —Ç–µ–±—è 3-4 —Ä–∞–∑–∞ –≤ –Ω–µ–¥–µ–ª—é –Ω–∞ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π –æ—Å–Ω–æ–≤–µ. –ß–∞—Å—Ç–æ –≤–æ–∑–∏—à—å –±–æ—Å—Å–∞ –Ω–∞ –≤—Å—Ç—Ä–µ—á–∏, –∞—ç—Ä–æ–ø–æ—Ä—Ç—ã, –¥–µ–ª–æ–≤—ã–µ –ø–æ–µ–∑–¥–∫–∏ –∑–∞ –≥–æ—Ä–æ–¥. –ó–∞—Ä–ø–ª–∞—Ç–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–¥ –¥–æ–≥–æ–≤–æ—Ä —Å –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å—É–º–º–æ–π –≤ –º–µ—Å—è—Ü. –¢—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–µ–º–∏—É–º-–∫–ª–∞—Å—Å –∞–≤—Ç–æ (Mercedes, BMW, Audi).

   5. –ö–û–û–†–î–ò–ù–ê–¢–û–† / –î–ò–°–ü–ï–¢–ß–ï–† –¢–ê–ö–°–ò (2-3 –≥–æ–¥–∞, 120-180 —Ç—ã—Å. —Ä—É–±/–º–µ—Å): –ü–µ—Ä–µ—Ö–æ–¥–∏—à—å –Ω–∞ —É–ø—Ä–∞–≤–ª–µ–Ω—á–µ—Å–∫—É—é —Ä–æ–ª—å –≤ –∫—Ä—É–ø–Ω–æ–π —Ç–∞–∫—Å–æ–ø–∞—Ä–∫–µ –∏–ª–∏ —Å–µ—Ä–≤–∏—Å–µ. –†–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ—à—å –∑–∞–∫–∞–∑—ã –º–µ–∂–¥—É –≤–æ–¥–∏—Ç–µ–ª—è–º–∏, –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—à—å –∫–∞—á–µ—Å—Ç–≤–æ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏, –º–µ–Ω—Ç–æ—Ä–∏—à—å –Ω–æ–≤–∏—á–∫–æ–≤. –†–∞–±–æ—Ç–∞–µ—à—å –≤ –æ—Ñ–∏—Å–µ, –Ω–æ –Ω—É–∂–Ω–æ –≥–ª—É–±–æ–∫–æ –ø–æ–Ω–∏–º–∞—Ç—å –≤—Å–µ —Ç–æ–Ω–∫–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã –≤–æ–¥–∏—Ç–µ–ª—è –Ω–∞ –¥–æ—Ä–æ–≥–µ.

   6. –ù–ê–ß–ê–õ–¨–ù–ò–ö –¢–ê–ö–°–û–ü–ê–†–ö–ê / –õ–û–ì–ò–°–¢–ò–ß–ï–°–ö–û–ì–û –¶–ï–ù–¢–†–ê (3-5 –ª–µ—Ç, 180-300 —Ç—ã—Å. —Ä—É–±/–º–µ—Å): –ï—Å–ª–∏ –≤—ã–±–∏—Ä–∞–µ—à—å –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π –ø—É—Ç—å –≤ –∫—Ä—É–ø–Ω–æ–π –∫–æ–º–ø–∞–Ω–∏–∏, –º–æ–∂–µ—à—å —Å—Ç–∞—Ç—å –Ω–∞—á–∞–ª—å–Ω–∏–∫–æ–º –≤–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –ø–∞—Ä–∫–∞. –£–ø—Ä–∞–≤–ª—è–µ—à—å 50-200 –≤–æ–¥–∏—Ç–µ–ª—è–º–∏, –æ—Ç–≤–µ—á–∞–µ—à—å –∑–∞ —Å–≤–æ–µ–≤—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç—å –¥–æ—Å—Ç–∞–≤–æ–∫, –∫–∞—á–µ—Å—Ç–≤–æ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è, —Ä–µ—à–∞–µ—à—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—à—å –º–∞—Ä—à—Ä—É—Ç—ã.

   7. –í–õ–ê–î–ï–õ–ï–¶ –¢–ê–ö–°–û–ü–ê–†–ö–ê / –ü–†–ï–î–ü–†–ò–ù–ò–ú–ê–¢–ï–õ–¨ (5+ –ª–µ—Ç, 200-500+ —Ç—ã—Å. —Ä—É–±/–º–µ—Å): –ù–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ —Å–æ–∑–¥–∞—ë—à—å —Å–≤–æ–π –ø–∞—Ä–∫ –∏–∑ 10-100 –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π, –Ω–∞–Ω–∏–º–∞–µ—à—å –∏ –æ–±—É—á–∞–µ—à—å –≤–æ–¥–∏—Ç–µ–ª–µ–π, –∑–∞–∫–ª—é—á–∞–µ—à—å –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã —Å –Ø–Ω–¥–µ–∫—Å.–¢–∞–∫—Å–∏, Uber –∏ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–º–∏ –∫–ª–∏–µ–Ω—Ç–∞–º–∏. –ó–∞—Ä–∞–±–∞—Ç—ã–≤–∞–µ—à—å –Ω–∞ –∫–æ–º–∏—Å—Å–∏–∏ –∏ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã—Ö –¥–æ–≥–æ–≤–æ—Ä–∞—Ö. –¢—Ä–µ–±—É–µ—Ç—Å—è —Å—Ç–∞—Ä—Ç–æ–≤—ã–π –∫–∞–ø–∏—Ç–∞–ª 1-2 –º–ª–Ω. —Ä—É–±–ª–µ–π."

6. **sd_prompts** - –¢–û–õ–¨–ö–û –ù–ê –ê–ù–ì–õ–ò–ô–°–ö–û–ú!!! 6 –ø—Ä–æ–º–ø—Ç–æ–≤:
   - –ö–∞–∂–¥—ã–π –ø—Ä–æ–º–ø—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ö–û–ù–ö–†–ï–¢–ù–£–Æ —Ä–∞–±–æ—á—É—é —Å—Ü–µ–Ω—É
   - –ü–µ—Ä–µ–≤–æ–¥–∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏—é –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π –ø—Ä–∞–≤–∏–ª—å–Ω–æ
   - –î–µ—Ç–∞–ª—å–Ω–æ –æ–ø–∏—Å—ã–≤–∞–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, –æ–∫—Ä—É–∂–µ–Ω–∏–µ, –¥–µ–π—Å—Ç–≤–∏—è
   - 4k photorealistic –∫–∞—á–µ—Å—Ç–≤–æ

7. **moodboard_prompt** - –¢–û–õ–¨–ö–û –ù–ê –ê–ù–ì–õ–ò–ô–°–ö–û–ú:
   - –û–±—â–∞—è –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞ –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏
   - –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –¥–µ—Ç–∞–ª–∏ —Ä–∞–±–æ—á–µ–≥–æ –º–µ—Å—Ç–∞

üö´ –ó–ê–ü–†–ï–©–ï–ù–û:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —à–∞–±–ª–æ–Ω–Ω—ã–µ —Ñ—Ä–∞–∑—ã —Ç–∏–ø–∞ "–æ—Å–Ω–æ–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞", "—Ä–∞–±–æ—á–∏–µ –∑–∞–¥–∞—á–∏"
- –ü–æ–≤—Ç–æ—Ä—è—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –∏–º–µ–Ω–∞ –≤ chat_examples
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–Ω—É —Å–æ—Ü—Å–µ—Ç—å –¥–ª—è –≤—Å–µ—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- –ü–∏—Å–∞—Ç—å –æ–±—â–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ ("GPS", "–Ω–∞–≤–∏–≥–∞—Ç–æ—Ä") - —Ç–æ–ª—å–∫–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –±—Ä–µ–Ω–¥—ã
- –°–æ–∑–¥–∞–≤–∞—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ—Ñ–µ—Å—Å–∏–π
- –ü–∏—Å–∞—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ –≤ –†–æ—Å—Å–∏–∏ —Å–µ—Ä–≤–∏—Å—ã
- –ü–∏—Å–∞—Ç—å –≤–≤–æ–¥–Ω—ã–π —Ç–µ–∫—Å—Ç –≤ company_value ("–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞...")
- –ü–∏—Å–∞—Ç—å —à–∞–±–ª–æ–Ω–Ω—ã–π career_path (–î–∂—É–Ω–∏–æ—Ä/–ú–∏–¥–¥–ª/–°–µ–Ω—å–æ—Ä) - —Ç–æ–ª—å–∫–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –¥–ª—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏
- –°–æ–∫—Ä–∞—â–∞—Ç—å company_value –∏ career_path - –æ–Ω–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ü–û–î–†–û–ë–ù–´–ú–ò

‚úÖ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û:
- –ö–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –£–ù–ò–ö–ê–õ–¨–ù–´–ú –∏ –ü–ï–†–°–û–ù–ê–õ–ò–ó–ò–†–û–í–ê–ù–ù–´–ú
- –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –æ—Ç—Ä–∞–∂–∞—Ç—å –†–ï–ê–õ–¨–ù–´–ô –¥–µ–Ω—å –≤ –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏ {profession}
- –í—Å–µ –∏–º–µ–Ω–∞, —Å–æ—Ü—Å–µ—Ç–∏, –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –†–ê–ó–ù–û–û–ë–†–ê–ó–ù–´–ú–ò
- –ò—Å–ø–æ–ª—å–∑—É–π –¥–∞–Ω–Ω—ã–µ –∏–∑ –û–¢–í–ï–¢–û–í –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–∏
- –í—Å–µ –¥–∞–Ω–Ω—ã–µ —Ç–æ–ª—å–∫–æ –ø—Ä–æ –†–æ—Å—Å–∏—é –∏ —Ä–æ—Å—Å–∏–π—Å–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
- career_path –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –û–ß–ï–ù–¨ –ü–û–î–†–û–ë–ù–´–ú (5-7 —ç—Ç–∞–ø–æ–≤ –º–∏–Ω–∏–º—É–º), –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–º, —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ —Ü–∏—Ñ—Ä–∞–º–∏, —Å—Ä–æ–∫–∞–º–∏ –∏ –¥–æ–ª–∂–Ω–æ—Å—Ç—è–º–∏
- company_value –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ü–û–î–†–û–ë–ù–û–ô (3-4 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è) —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏ (30%, 40%, 25% –∏ —Ç.–¥.)
- –ù–ò–ß–ï–ì–û –ù–ï –í–´–†–ï–ó–ê–ô - —Å–æ—Ö—Ä–∞–Ω–∏ –í–°–ï –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤ –ø–æ–ª–Ω–æ–º –≤–∏–¥–µ
- career_path –æ–ø–∏—Å—ã–≤–∞–π –ü–û–ë–û–õ–¨–®–ï –∏ –ü–û–ü–û–î–†–û–ë–ù–ï–ï –¥–ª—è –∫–∞–∂–¥–æ–π –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏
- –ö–∞–∂–¥—ã–π —ç—Ç–∞–ø career_path - —ç—Ç–æ 2-3 —Ä–∞–∑–≤—ë—Ä–Ω—É—Ç—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, –Ω–µ –æ–¥–Ω–æ-–¥–≤–∞ —Å–ª–æ–≤–∞

–ì–µ–Ω–µ—Ä–∏—Ä—É–π –¢–û–õ–¨–ö–û –í–ê–õ–ò–î–ù–´–ô JSON –ë–ï–ó MARKDOWN –±–ª–æ–∫–æ–≤:

{{
  "daily_schedule": [
    "07:00-07:30 –ö–û–ù–ö–†–ï–¢–ù–û–ï –¥–µ–π—Å—Ç–≤–∏–µ —Å –¥–µ—Ç–∞–ª—è–º–∏ –¥–ª—è {profession}",
    "07:30-09:00 –ö–û–ù–ö–†–ï–¢–ù–û–ï –¥–µ–π—Å—Ç–≤–∏–µ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤",
    "09:00-10:30 –ö–û–ù–ö–†–ï–¢–ù–û–ï –¥–µ–π—Å—Ç–≤–∏–µ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –∑–∞–¥–∞—á",
    "10:30-11:00 –ü–µ—Ä–µ—Ä—ã–≤, –æ–±—â–µ–Ω–∏–µ —Å –∫–æ–ª–ª–µ–≥–∞–º–∏",
    "11:00-13:00 –ö–û–ù–ö–†–ï–¢–ù–û–ï –¥–µ–π—Å—Ç–≤–∏–µ –≤–æ –≤—Ç–æ—Ä–æ–π –ø–æ–ª–æ–≤–∏–Ω–µ",
    "13:00-14:00 –û–±–µ–¥, –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—á–∏—Ö —á–∞—Ç–æ–≤",
    "14:00-16:00 –ö–û–ù–ö–†–ï–¢–ù–´–ï –∑–∞–¥–∞—á–∏ —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏/–ø—Ä–æ–µ–∫—Ç–∞–º–∏",
    "16:00-17:30 –ö–û–ù–ö–†–ï–¢–ù–û–ï –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –¥–Ω—è, –æ—Ç—á—ë—Ç—ã",
    "17:30-18:00 –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ª–µ–¥—É—é—â–µ–≥–æ –¥–Ω—è, —Å–æ–∑–≤–æ–Ω—ã"
  ],

  "tech_stack": [
    "–ö–û–ù–ö–†–ï–¢–ù–û–ï –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã/—Å–µ—Ä–≤–∏—Å–∞ 1 –¥–ª—è {profession}",
    "–ö–û–ù–ö–†–ï–¢–ù–û–ï –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã/—Å–µ—Ä–≤–∏—Å–∞ 2",
    "–ö–û–ù–ö–†–ï–¢–ù–û–ï –Ω–∞–∑–≤–∞–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ 3",
    "–ö–û–ù–ö–†–ï–¢–ù–û–ï –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã 4",
    "–ö–û–ù–ö–†–ï–¢–ù–û–ï –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è 5",
    "–ö–û–ù–ö–†–ï–¢–ù–û–ï –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã 6"
  ],

  "company_value": "–ü–û–î–†–û–ë–ù–û–ï –æ–ø–∏—Å–∞–Ω–∏–µ (3-4 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è) –æ –ü–û–õ–¨–ó–ï –¥–ª—è –∫–æ–º–ø–∞–Ω–∏–∏. –í–∫–ª—é—á–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏: —Å–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞ 30%, —Ä–æ—Å—Ç –Ω–∞ 25%, —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ 40%. –û–ø–∏—Å—ã–≤–∞–π —Ä–µ–∞–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ —ç–∫–æ–Ω–æ–º–∏—é.",

  "career_path": "–û–ß–ï–ù–¨ –ü–û–î–†–û–ë–ù–´–ô –∏ –ò–ù–¢–ï–†–ï–°–ù–´–ô –∫–∞—Ä—å–µ—Ä–Ω—ã–π –ø—É—Ç—å (5-7 —ç—Ç–∞–ø–æ–≤). –ö–∞–∂–¥—ã–π —ç—Ç–∞–ø - —ç—Ç–æ 2-3 —Ä–∞–∑–≤—ë—Ä–Ω—É—Ç—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è —Å —É–∫–∞–∑–∞–Ω–∏–µ–º —Å—Ä–æ–∫–æ–≤, –∑–∞—Ä–ø–ª–∞—Ç—ã, –Ω–∞–≤—ã–∫–æ–≤, –¥–æ–ª–∂–Ω–æ—Å—Ç–µ–π. –í–∫–ª—é—á–∞–π —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é, –±–æ–∫–æ–≤—ã–µ —Ö–æ–¥—ã, —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ. –î–µ–ª–∞–π –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏.",

  "chat_examples": [
    {{"sender": "–†–ê–ù–î–û–ú–ù–û–ï_–ò–ú–Ø_1", "chat_name": "–ö–û–ù–ö–†–ï–¢–ù–ê–Ø_–°–û–¶–°–ï–¢–¨_1 - –ù–∞–∑–≤–∞–Ω–∏–µ —á–∞—Ç–∞", "message": "–†–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–æ —Ä–∞–±–æ—Ç—É –≤ {profession}"}},
    {{"sender": "–†–ê–ù–î–û–ú–ù–û–ï_–ò–ú–Ø_2", "chat_name": "–î–†–£–ì–ê–Ø_–°–û–¶–°–ï–¢–¨_2 - –î—Ä—É–≥–æ–π —á–∞—Ç", "message": "–î—Ä—É–≥–æ–µ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ"}},
    {{"sender": "–†–ê–ù–î–û–ú–ù–û–ï_–ò–ú–Ø_3", "chat_name": "–ï–©–Å_–û–î–ù–ê_–°–û–¶–°–ï–¢–¨_3 - –†–∞–±–æ—á–∞—è –≥—Ä—É–ø–ø–∞", "message": "–¢—Ä–µ—Ç—å–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ"}},
    {{"sender": "–¢—ã", "chat_name": "–°–û–¶–°–ï–¢–¨_4 - –ö–æ–º–∞–Ω–¥–Ω—ã–π —á–∞—Ç", "message": "–¢–≤–æ–π –æ—Ç–≤–µ—Ç –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ {profession}"}},
    {{"sender": "–†–ê–ù–î–û–ú–ù–û–ï_–ò–ú–Ø_4", "chat_name": "–°–û–¶–°–ï–¢–¨_5 - –û—Ç–¥–µ–ª –ø–æ–¥–¥–µ—Ä–∂–∫–∏", "message": "–í–æ–ø—Ä–æ—Å –∏–ª–∏ –∑–∞–¥–∞—á–∞"}},
    {{"sender": "–†–ê–ù–î–û–ú–ù–û–ï_–ò–ú–Ø_5", "chat_name": "–°–û–¶–°–ï–¢–¨_6 - –ü—Ä–æ–µ–∫—Ç–Ω–∞—è –≥—Ä—É–ø–ø–∞", "message": "–û–±—Å—É–∂–¥–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞"}}
  ],

  "sd_prompts": [
    "Professional [profession in English] performing specific task 1, using [specific tool], workplace details, 4k photorealistic, no people, no arms, no faces",
    "Close-up of [profession in English] working with [specific equipment], concentrated expression, 4k photorealistic, no people, no arms, no faces",
    "[Profession in English] solving [specific problem], problem-solving moment, authentic environment, 4k photorealistic, no people, no arms, no faces",
    "[Profession in English] using [specific software/tool], modern workspace, professional setting, 4k photorealistic, no people, no arms, no faces",
    "Team of [profession in English] collaborating on [specific task], teamwork atmosphere, 4k photorealistic, no people, no arms, no faces",
    "Expert [profession in English] demonstrating mastery of [specific skill], expertise moment, 4k photorealistic, no people, no arms, no faces"
  ],

  "moodboard_prompt": "Professional [profession in English] in authentic workplace, using specific tools and technology, confident skilled professional, realistic environment, 4k photorealistic"
}}
"""


def check_profession_exists_simple(profession):
    """–ü—Ä–æ—Å—Ç–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏"""
    exists_hh, _ = check_profession_on_hh(profession)
    return exists_hh
